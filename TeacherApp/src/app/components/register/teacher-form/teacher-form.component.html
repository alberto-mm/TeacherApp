
<section class="container mt-3 border">
    <h1>Formulario de profesor</h1>
    <form [formGroup]="teacherForm" (ngSubmit)="getDataForm()">

        <input type="hidden" id="role_id" formControlName="role_id" [value]="teacher_role_id">
        <div class="row mb-3 m-2">
            <label  class="form-label" for="name">Nombre</label>
            <input  type="text" [ngClass]="{'border-red': !checkValidControl('name')}" id="name" class="form-control " formControlName="name">
            <p class="error" *ngIf="checkControl('name', 'required')">
                El campo es obligatorio
            </p>
            <p class="error" *ngIf="checkControl('name', 'pattern')">
                Formato incorrecto. Por favor introduce solo caracteres alfabeticos. Evita introducir números y caracteres especiales.
            </p>
        </div>
        
        <div class="row mb-3 m-2">
            <label class="form-label" for="surname">Apellidos</label>
            <input  [ngClass]="{'border-red': !checkValidControl('surname')}" class="form-label" type="text" id="surname" class="form-control " formControlName="surname">
            <p class="error" *ngIf="checkControl('surname', 'required')">
                El campo es obligatorio
            </p>
            <p class="error" *ngIf="checkControl('surname', 'pattern')">
                Formato incorrecto. Por favor introduce solo caracteres alfabeticos. Evita introducir números y caracteres especiales.
            </p>
        </div>
        
        <div class="row mb-3 m-2">
            <label class="form-label" for="email">Email</label>
            <input [ngClass]="{'border-red': !checkValidControl('email')}" class="form-label" type="text" id="email" class="form-control " formControlName="email">
            <p class="error" *ngIf="checkControl('email', 'required')">
                El campo es obligatorio
            </p>
            <p class="error" *ngIf="checkControl('email', 'pattern')">
                Formato incorrecto. Por favor introduce un email con formato correcto.
            </p>
        </div>
        
        <div class="row mb-3 m-2">
            <label class="form-label" for="password">Password</label>
            <input  type="password" [ngClass]="{'border-red': !checkValidControl('password')}" id="password" class="form-control " formControlName="password">
            <p class="error" *ngIf="checkControl('password', 'required')">
                El campo es obligatorio
            </p>
            <p class="error" *ngIf="checkControl('password', 'minlength')">
                El password debe tener una longitud minima de 8 caracteres.
            </p> 
        </div>
        
        <div class="row mb-3 m-2">
            <label class="form-label" for="passwordConfirm">Confirma tu password</label>
            <input type="password" [ngClass]="{'border-red': !checkValidControl('passwordConfirm')}" id="passwordConfirm" class="form-control " formControlName="passwordConfirm">
            <p class="error" *ngIf="checkControl('passwordConfirm', 'required')">
                El campo es obligatorio
            </p>
            <p class="error" *ngIf="teacherForm.hasError('checkpassword')">
                Los campos password introducidos no coinciden
            </p>
        </div>
        
        <div class="row mb-3 m-2">
            <label class="form-label" for="phone">Teléfono</label>
            <input  type="text" [ngClass]="{'border-red': !checkValidControl('phone')}" id="phone" class="form-control " formControlName="phone">
            <p class="error" *ngIf="checkControl('phone', 'required')">
                El campo es obligatorio
            </p>
            <p class="error" *ngIf="checkControl('phone', 'minlength')">
                Telefono de contacto incorrecto.
            </p> 
            <p class="error" *ngIf="checkControl('phone', 'maxlength')">
                Telefono de contacto incorrecto.
            </p> 
            <p class="error" *ngIf="checkControl('phone', 'pattern')">
                Formato incorrecto. Por favor introduce el código numerico del pais precedido por el simbolo '+' seguido del numero de telefono.
            </p>
        </div>
        
        <div class="row mb-3 m-2">
            <label class="form-label" for="address">Direccion</label>
            <input class="form-label" type="text" id="address" class="form-control " formControlName="address">
        </div>

        <div class="row mb-3 m-2">
            <label class="form-label" for="avatar">Avatar</label>
            <input class="form-label" type="text" id="avatar" class="form-control " formControlName="avatar">
        </div>

        <div class="row mb-3 m-2">
            <label class="form-label" for="province-selector">Provincia</label>
            <select (change) = "onSelected($event)" class="form-control " name="province" id="province-selector">
                <option default>Selecciona una provincia</option>
                <option *ngFor="let province of provinces" [value]="province.id">{{province.name}}</option>
            </select>
            <p class="error" *ngIf="checkControl('first_name', 'required')">
                El campo es obligatorio
            </p>
        </div>
        
        <div class="row mb-3 m-2">
            <label  class="form-label" for="city-selector">Ciudad</label>
            <select class="form-control " name="city" id="city-selector" formControlName="city_id">
                <option default>Selecciona tu ciudad de residencia</option>
                <option *ngFor="let city of citiesbyProvince" [value]="city.id">{{city.name}}</option>
            </select>
            <p class="error" *ngIf="checkControl('first_name', 'required')">
                El campo es obligatorio
            </p>
    
        </div>
        
        <div class="row mb-3 m-2">
            <label class="form-label"  for="price_hour">precio/hora</label>
            <input class="form-label" type="text" id="price_hour" class="form-control " formControlName="price_hour">
        </div>
        <p class="error" *ngIf="checkControl('price_hour', 'required')">
            El campo nombre es obligatorio
        </p>
        <p class="error" *ngIf="checkControl('price_hour', 'pattern')">
            Formato de nombre incorrecto. Por favor introduce solo caracteres alfabeticos. Evita introducir números y caracteres especiales.
        </p>

        <div class="row mb-3 m-2">
            <label class="form-label"  for="branch">Rama</label>
            <select class="form-control " name="branch" id="branch-selector" formControlName="branch_id">
                <option default>Selecciona una rama</option>
                <option *ngFor="let branch of branches" [value]="branch.id">{{branch.title}}</option>
            </select>
        </div>
        <p class="error" *ngIf="checkControl('branch', 'required')">
            El campo es obligatorio
        </p>

        <div class="row mb-3 m-2">
            <label class="form-label"  for="subject">Especialidad </label>
            <input class="form-label" type="text" id="subject" class="form-control " formControlName="subject">
        </div>

        <div class="row mb-3 m-2">
            <label class="form-label"  for="experience">Años dando clase: </label>
            <input class="form-label" type="number" id="experience" class="form-control " formControlName="experience">
        </div>

        <input type="submit" [value]="accion" class="btn btn-success btn-lg btn-block mt-3 m-2">
    </form>
</section>